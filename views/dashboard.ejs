<!-- views/dashboard.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Dashboard</title>
    <link rel="stylesheet" type="text/css" href="/css/main-css/main.css">
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
    <!-- Add your custom stylesheets as needed -->
</head>
<body>
    <%- include('navbar.ejs') %>

    <!-- Sidebar -->
    <div class="sidebar-container">
        <div class="sidebar" id="sidebar">
            <a href="#" style="height: 60px;">
                <img src="/images/logo.png" alt="Logo">
                <span>
                    <h6 class="d-flex align-center ps-2 fw-bold">FAR EAST FUEL<br>CORPORATION</h6>
                </span>
            </a>
            <a href="/dashboard">
                <i class="fas fa-th-large"></i>
                <span class="link-text">Dashboard</span>
            </a>
            <a href="/dashboard/booked_transactions">
                <i class="fa-solid fa-clipboard-list"></i>
                <span class="link-text">Booked Transactions</span>
            </a>
            <a href="/dashboard/clients">
                <i class="fa-solid fa-users"></i>
                <span class="link-text">Clients</span>
            </a>
            <a href="/dashboard/type_of_waste">
                <i class="fa-solid fa-table-list"></i>
                <span class="link-text">Type of Wastes</span>
            </a>
            <a href="/dashboard/quotations">
                <i class="fa-solid fa-file-circle-plus"></i>
                <span class="link-text">Quotations</span>
            </a>
            <a href="/dashboard/commissions">
                <i class="fa-solid fa-sack-dollar"></i>
                <span class="link-text">Commissions</span>
            </a>
            <a href="/logout">
                <i class="fa-solid fa-power-off"></i>
                <span class="link-text">Logout</span>
            </a>
        </div>
        <!-- Toggle Button -->
        <button onclick="toggleSidebar()" id="toggleButton">
            <i class="fas fa-bars"></i>
        </button>
    </div>

    <!-- Page content -->
    <div class="content">
        <!-- Your dashboard content goes here -->
        <h2>Welcome to the Dashboard</h2>
    </div>

    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
        const sidebar = document.getElementById('sidebar');
        const span_data = sidebar.querySelectorAll('span');
        const toggleButton = sidebar.querySelectorAll('toggleButton');
        
        sidebar.addEventListener('mouseenter', () => {
            if (sidebar.classList.contains('shrink')) {
                sidebar.style.width = "250px";
                span_data.forEach(span => {
                    span.style.display = "block";
                });
                toggleButton.style.left = "260px";
            }
        });

        sidebar.addEventListener('mouseleave', () => {
            if (sidebar.classList.contains('shrink')) {
                sidebar.style.width = "50px";
                span_data.forEach(span => {
                    span.style.display = "none";
                });
                toggleButton.style.left = "60px";
            }
        });

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            if(sidebar.classList.contains('shrink')){
                sidebar.classList.remove('shrink');
                sidebar.style.width = "250px";
                span_data.forEach(span => {
                    span.style.display = "block";
                });
                toggleButton.style.left = "260px";
            }
            else{
                sidebar.classList.toggle('shrink');
                sidebar.classList.add('shrink');
                sidebar.style.width = "50px";
                span_data.forEach(span => {
                    span.style.display = "none";
                });
                toggleButton.style.left = "60px";
            }
        }
    </script>
</body>
</html>
